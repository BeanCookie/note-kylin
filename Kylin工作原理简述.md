# Kylin工作原理简述

#### 什么维度和度量

维度就是查看数据的某种角度，比如对于一组传感器的数据可以从时间的维度进行观察。也可以进一步从时间和传感器类别来观察数据。维度一般是一组离散的值，比如时间维度上的每一个独立的日期，或者商品维度上的每一件独立的商品。因此，统计时可以把维度值相同的记录聚合起来，应用聚合函数做累加、平均、去重复计数等聚合计算。

度量就是聚合运算的结果，比如传感器温度的平均值，有经验的分析师可以通过度量对数据进行分析。比如根据传感器温度温度的变化情况来判断传感器对环境的适应情况。

#### Cube和Cuboid

有了维度和度量之后就可以对数据表中的所有字段进行分类，因此就有了根据维度和度量做预计算的Cube理论。

给定一个数据表可以对其中的所有维度进行组合，对于拥有N个维度的数据表来说，所有维度的组合就有2(N)个。对每一种维度的组合，将度量做聚合运算，运算的结果保存为一个物化视图，称为Cuboid。为一个物化视图，称为Cuboid。将所有维度组合的Cuboid作为一个整体被称为Cube。

#### Kylin工作原理

Apache Kylin的工作原理就是对数据模型做Cube预计算，并利用计算的结果加速查询。由于Kylin的查询过程不会扫描原始记录，而是通过预计算预先完成表的关联、聚合等复杂运算，并利用预计算的结果来执行查询，因此其速度相比非预计算的查询技术一般要快一个到两个数量级。

